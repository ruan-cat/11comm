# 项目改造路线图

列举改造计划。

## 自动化路由

√ **已完成** 基于前端目录结构生成的路由。

使用 [unplugin-vue-router](https://uvr.esm.is/) 实现自动化路由，仅仅对新增的业务代码，实现页面组件的路由导航。

### 安装依赖

```bash
pnpm -F=@ruan-cat-10wms/main i -D unplugin-vue-router vite-plugin-vue-meta-layouts
```

### 配置自动导入插件需要的类型

- https://uvr.esm.is/introduction.html#auto-imports

### 配置布局组件

你好，我需要改造本项目，使其可以对接布局插件。请为我规划合适的改造计划。

### 配置自动路由组件

具体明细见 `use-unplugin-vue-router.prompt.md` 文件。

已完成。

## view 目录下的特定组件也被认定为自动导入的全局组件

废弃。不考虑做成全局可用的案例代码。也不设计全局导入的自动组件。

TODO: 将这些页面排除生产环境打包。

## 自己封装的组件归属在特定的目录内，避免冲突

√ **已完成**

不做额外的拆分。

## 补全组件自动导入的别名配置

√ **已完成** 已完成配置。

## 补全 vite 插件

√ **已完成** 已完成补充导入。

## 补全 element-plus 的全局导入

√ **已完成** 本框架默认实现该功能。

## 测试全局 vitest 测试套件

√ **已完成** 已完成配置。

## 导入封装好的接口请求工具

1. 阅读鉴权逻辑
2. 迁移接口请求工具

待办处理逻辑：

### 仔细对接后端的 getAsyncRoutes 菜单接口

需要确保来自后端的菜单格式，满足其格式需求。

警告 对应的后端组 j1，目前已经不再回复我，无法提供任何服务，故不能继续实现基于后端的菜单获取了。

## 改造验证码插件

目前项目的验证码是前端验证码，需要改造成后端验证码。

√ **已完成** 目前登录逻辑，使用自己开发的验证码插件。对接验证码接口。

## 给出一个具体的列表页模板

给出一个具体的列表页模板，要求他们套模板实现业务。

实现：

1. 列表页
2. 搜索栏
3. 分页栏

## 改造后的注意事项

本项目改造了 pure-admin，部分规则有所变化。

### 实现业务的页面一律在 pages 文件夹下

pages 文件夹将会使用自动路由功能。views 文件夹下面的页面，仅仅被当做是案例页面，未来不会被打包。

## 项目迁移到 cloudflare worker 内部署

- 01s-11comm-admin
- pnpm i && pnpm run build:admin
- npx wrangler deploy --assets=./apps/admin/dist --compatibility-date 2025-06-29
- `apps/admin/*`
